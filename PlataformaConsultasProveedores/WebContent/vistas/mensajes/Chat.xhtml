<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="./../commons/template.xhtml">
	<ui:define name="content">
		<p:panel id="IDPanel" header="#{msj['header.chat']}"
			style="#{msj['p.panelGrande']} margin-top: 10pt;">
			<h:form id="IDFchat">
				<center>
				
	                			
					<p:panelGrid>					
					<p:row>
				    <p:column>
				    <p:commandButton value="#{msj['p.commanButton_Preguntar']}" onclick="PF('WVDialogVarPreguntas').show();" />
					</p:column>
					</p:row>
					</p:panelGrid> 
							
				<p:dataTable widgetVar="preguntaTable" var="tablachat" value="#{beansChat.listapreguntas}" 
				selectionMode="single"  selection="#{beansChat.selectPreguntas}" rowKey="#{tablachat.id}"
				rowStyleClass="#{tablachat.estado eq 'false' ? 'verde':'colored'}">
				
				<p:ajax event="rowSelect" listener="#{beansChat.onRowSelect}"  /> 
				
                <p:column headerText="#{msj['chat.proyecto']}" filterBy="#{tablachat.asignacion.proyecto.nombre}" sortBy="#{tablachat.asignacion.proyecto.nombre}" >
                  
                <h:outputText value="#{tablachat.asignacion.proyecto.nombre}"  />
                 </p:column>
                 
                 
                 <p:column headerText="#{msj['usuarios.usuario']}" filterBy="#{tablachat.asignacion.usuario.usuario}" sortBy="#{tablachat.asignacion.usuario.usuario}">
                 
                <h:outputText value="#{tablachat.asignacion.usuario.usuario}" />
                 </p:column>
                    
                  <p:column headerText="#{msj['chat.estado']}" filterBy="#{beansChat.confirmarEstado(tablachat.estado)}" sortBy="#{beansChat.confirmarEstado(tablachat.estado)}">
                  
                 <h:outputText value="#{beansChat.confirmarEstado(tablachat.estado)}" />
                 </p:column>
                 
                 <p:column headerText="#{msj['chat.fecha']}"  sortBy="#{tablachat.fecha_creacion}">
                 <h:outputText value="#{tablachat.fecha_creacion}" />
                 </p:column>
                 
                 </p:dataTable>
						
				</center>
			</h:form>
		</p:panel>
		<ui:include src="Preguntas_Chat.xhtml" /> 
	</ui:define>
	
		

</ui:composition>